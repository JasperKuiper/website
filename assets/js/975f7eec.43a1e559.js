"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[88730],{3905:function(e,t,a){a.d(t,{Zo:function(){return c},kt:function(){return m}});var n=a(67294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var o=n.createContext({}),u=function(e){var t=n.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},c=function(e){var t=u(e.components);return n.createElement(o.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),d=u(a),m=i,h=d["".concat(o,".").concat(m)]||d[m]||p[m]||r;return a?n.createElement(h,s(s({ref:t},c),{},{components:a})):n.createElement(h,s({ref:t},c))}));function m(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,s=new Array(r);s[0]=d;var l={};for(var o in t)hasOwnProperty.call(t,o)&&(l[o]=t[o]);l.originalType=e,l.mdxType="string"==typeof e?e:i,s[1]=l;for(var u=2;u<r;u++)s[u]=a[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},13243:function(e,t,a){a.r(t),a.d(t,{assets:function(){return c},contentTitle:function(){return o},default:function(){return m},frontMatter:function(){return l},metadata:function(){return u},toc:function(){return p}});var n=a(83117),i=a(80102),r=(a(67294),a(3905)),s=["components"],l={},o="How-To",u={unversionedId:"charts/stable/tailscale/How-To-Guide",id:"charts/stable/tailscale/How-To-Guide",title:"How-To",description:"This is a quick how-to or setup-guide to use Tailscale using on your TrueNAS box.",source:"@site/docs/charts/stable/tailscale/How-To-Guide.md",sourceDirName:"charts/stable/tailscale",slug:"/charts/stable/tailscale/How-To-Guide",permalink:"/docs/charts/stable/tailscale/How-To-Guide",draft:!1,editUrl:"https://github.com/truecharts/website/tree/master/docs/charts/stable/tailscale/How-To-Guide.md",tags:[],version:"current",frontMatter:{},sidebar:"chartsSidebar",previous:{title:"Changelog",permalink:"/docs/charts/stable/tailscale/CHANGELOG"},next:{title:"tautulli",permalink:"/docs/charts/stable/tautulli/"}},c={},p=[{value:"Requirements",id:"requirements",level:2},{value:"Prerequisites (LAN access only)",id:"prerequisites-lan-access-only",level:2},{value:"Tailscale Chart Setup",id:"tailscale-chart-setup",level:2},{value:"Application name",id:"application-name",level:3},{value:"Controller",id:"controller",level:3},{value:"Container Configuration",id:"container-configuration",level:3},{value:"Networking and Services",id:"networking-and-services",level:3},{value:"Storage and Persistence",id:"storage-and-persistence",level:3},{value:"Ingress",id:"ingress",level:3},{value:"Security and Permissions",id:"security-and-permissions",level:3},{value:"Resources and Devices",id:"resources-and-devices",level:3},{value:"Addons",id:"addons",level:3},{value:"Support",id:"support",level:2}],d={toc:p};function m(e){var t=e.components,l=(0,i.Z)(e,s);return(0,r.kt)("wrapper",(0,n.Z)({},d,l,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"how-to"},"How-To"),(0,r.kt)("p",null,"This is a quick how-to or setup-guide to use Tailscale using on your TrueNAS box.\nThis can be applied to other systems but this specific guide is SCALE specific with the prerequisites."),(0,r.kt)("h2",{id:"requirements"},"Requirements"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Tailscale Account (Free accounts available at ",(0,r.kt)("a",{parentName:"li",href:"https://www.tailscale.com"},"Tailscale's Official website"),")"),(0,r.kt)("li",{parentName:"ul"},"Tailscale Truecharts Chart")),(0,r.kt)("h2",{id:"prerequisites-lan-access-only"},"Prerequisites (LAN access only)"),(0,r.kt)("p",null,"For proper access to your local network (LAN), this chart requires two ",(0,r.kt)("inlineCode",{parentName:"p"},"sysctl")," values set on your TrueNAS or system.\nFor TrueNAS SCALE the way to change these values are inside ",(0,r.kt)("inlineCode",{parentName:"p"},"System Settings")," then ",(0,r.kt)("inlineCode",{parentName:"p"},"Advanced"),".\nOn that screen you add the following two values:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"net.ipv4.ip_forward")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"net.ipv4.conf.all.src_valid_mark"))),(0,r.kt)("p",null,"Set them to ",(0,r.kt)("inlineCode",{parentName:"p"},"1")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Enabled")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"sysctl",src:a(46534).Z,width:"806",height:"174"})),(0,r.kt)("p",null,"Also prepare your Tailscale Auth Key for your setup, easy to generate on the page below"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"tailscale-auth-key",src:a(66378).Z,width:"2166",height:"1153"})),(0,r.kt)("h2",{id:"tailscale-chart-setup"},"Tailscale Chart Setup"),(0,r.kt)("h3",{id:"application-name"},"Application name"),(0,r.kt)("p",null,"Ideally use ",(0,r.kt)("inlineCode",{parentName:"p"},"tailscale")," but you can use any name here."),(0,r.kt)("h3",{id:"controller"},"Controller"),(0,r.kt)("p",null,"Leave defaults here."),(0,r.kt)("h3",{id:"container-configuration"},"Container Configuration"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Auth Key"),": The key you received from tailscale in prerequisites above"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Userspace"),": Now enabled by default, as it is ",(0,r.kt)("em",{parentName:"li"},"required")," when using local routes and as an exit node (see below). However may need to be ",(0,r.kt)("em",{parentName:"li"},"unchecked")," if you need give Tailscale full access to all the features inside scale (not just GUI/SMB, but Rsync, ping other Tailscale IPs, etc). More info in the ",(0,r.kt)("a",{parentName:"li",href:"https://tailscale.com/kb/1112/userspace-networking/"},"Tailscale Userspace Guide"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Accept DNS"),": Enabling it will pass your Global Nameservers from Tailscale to your local install."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Routes"),": Change to the routes you wish Tailscale to have access to on the devices it's connected, such as my LAN in the example."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Extra Args")," passes arguments/flags to the ",(0,r.kt)("inlineCode",{parentName:"li"},"tailscale up")," command."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Hostname")," You can specify a specific hostname for use inside Tailscale (see image below). (Passes ",(0,r.kt)("inlineCode",{parentName:"li"},"--hostname HOSTNAME")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"Extra args"),")"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Advertise as exit node")," This is used to pass traffic through tailscale like a private VPN. (Passes ",(0,r.kt)("inlineCode",{parentName:"li"},"--advertise-exit-node")," to ",(0,r.kt)("inlineCode",{parentName:"li"},"Extra args"),")")),(0,r.kt)("p",null,"For more Extra Args and their usage please check the ",(0,r.kt)("a",{parentName:"p",href:"https://tailscale.com/kb/1080/cli/#up"},"Tailscale Knowledge Base"),"\nsince we consider these advanced features and these may/not be compatible with everyone's exact setup."),(0,r.kt)("p",null,"TODO: Update image with the new fields\n",(0,r.kt)("img",{alt:"tailscale-step-3",src:a(31181).Z,width:"939",height:"1279"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Hostname example")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"hostname-example",src:a(20019).Z,width:"1141",height:"797"})),(0,r.kt)("h3",{id:"networking-and-services"},"Networking and Services"),(0,r.kt)("p",null,"The default ports are fine for this chart, you shouldn't need to port forward or open ports on your router."),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"In case you want to access their SMB shares or TrueNAS GUI via Tailscale.\nYou will have to ensure that ",(0,r.kt)("inlineCode",{parentName:"p"},"Host Networking")," is enabled and ",(0,r.kt)("inlineCode",{parentName:"p"},"Userspace")," is disabled.")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"tailscale-step-4",src:a(77152).Z,width:"937",height:"1179"})),(0,r.kt)("h3",{id:"storage-and-persistence"},"Storage and Persistence"),(0,r.kt)("p",null,"Highly recommended to leave it as ",(0,r.kt)("inlineCode",{parentName:"p"},"PVC (Simple)")),(0,r.kt)("h3",{id:"ingress"},"Ingress"),(0,r.kt)("p",null,"Shouldn't need to enable this."),(0,r.kt)("h3",{id:"security-and-permissions"},"Security and Permissions"),(0,r.kt)("p",null,"Should be left as is, unless you know what you are doing!"),(0,r.kt)("h3",{id:"resources-and-devices"},"Resources and Devices"),(0,r.kt)("p",null,"You can set custom resources for CPU/RAM, but defaults should be work fine in most cases\nDefaults are 4 vCores and 8G RAM."),(0,r.kt)("h3",{id:"addons"},"Addons"),(0,r.kt)("p",null,"Shouldn't need to enable any."),(0,r.kt)("h2",{id:"support"},"Support"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"You can also reach us using ",(0,r.kt)("a",{parentName:"li",href:"https://discord.gg/tVsPTHWTtr"},"Discord")," for real-time feedback and support"),(0,r.kt)("li",{parentName:"ul"},"If you found a bug in our chart, open a Github ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/truecharts/apps/issues/new/choose"},"issue"))),(0,r.kt)("hr",null),(0,r.kt)("p",null,"All Rights Reserved - The TrueCharts Project"))}m.isMDXComponent=!0},20019:function(e,t,a){t.Z=a.p+"assets/images/Hostname-1a502c41c8e5175a71db782cf3f82678.png"},66378:function(e,t,a){t.Z=a.p+"assets/images/How-To-Image-1-957d628de21cd2b6ef78d5519e38f783.png"},31181:function(e,t,a){t.Z=a.p+"assets/images/How-To-Image-2-7e8753dc5169ef9724a0be4738642e7e.png"},77152:function(e,t,a){t.Z=a.p+"assets/images/How-To-Image-3-3c7b6720ec59b769cd7a7ec0747c0298.png"},46534:function(e,t,a){t.Z=a.p+"assets/images/Sysctl-bc7767ea1b04f9eb2f642ef3e8ce7a89.png"}}]);