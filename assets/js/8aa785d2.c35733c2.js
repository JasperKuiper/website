"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[82438],{3905:function(e,n,t){t.d(n,{Zo:function(){return s},kt:function(){return m}});var a=t(67294);function r(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){r(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function o(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var u=a.createContext({}),p=function(e){var n=a.useContext(u),t=n;return e&&(t="function"==typeof e?e(n):l(l({},n),e)),t},s=function(e){var n=p(e.components);return a.createElement(u.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},d=a.forwardRef((function(e,n){var t=e.components,r=e.mdxType,i=e.originalType,u=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),d=p(t),m=r,f=d["".concat(u,".").concat(m)]||d[m]||c[m]||i;return t?a.createElement(f,l(l({ref:n},s),{},{components:t})):a.createElement(f,l({ref:n},s))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var i=t.length,l=new Array(i);l[0]=d;var o={};for(var u in n)hasOwnProperty.call(n,u)&&(o[u]=n[u]);o.originalType=e,o.mdxType="string"==typeof e?e:r,l[1]=o;for(var p=2;p<i;p++)l[p]=t[p];return a.createElement.apply(null,l)}return a.createElement.apply(null,t)}d.displayName="MDXCreateElement"},92204:function(e,n,t){t.r(n),t.d(n,{LinkGenerator:function(){return m},assets:function(){return c},contentTitle:function(){return p},default:function(){return h},frontMatter:function(){return u},metadata:function(){return s},toc:function(){return d}});var a=t(83117),r=t(80102),i=t(67294),l=t(3905),o=["components"],u={sidebar_position:7},p="Linking Apps Internally",s={unversionedId:"manual/guides/linking-apps",id:"manual/guides/linking-apps",title:"Linking Apps Internally",description:"We often need to connect individual apps together, for example: Sonarr and SABnzbd. This means we first need to know how to reach those Apps.",source:"@site/docs/manual/guides/linking-apps.md",sourceDirName:"manual/guides",slug:"/manual/guides/linking-apps",permalink:"/docs/manual/guides/linking-apps",draft:!1,editUrl:"https://github.com/truecharts/website/tree/master/docs/manual/guides/linking-apps.md",tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7},sidebar:"manualSidebar",previous:{title:"Adding additional storage",permalink:"/docs/manual/guides/add-storage"},next:{title:"Adding Lets-Encrypt Certificates",permalink:"/docs/manual/guides/adding-letsencrypt"}},c={},d=[{value:"Linking Apps Internally",id:"linking-apps-internally-1",level:2},{value:"List Internal Domain Names using TrueTool",id:"list-internal-domain-names-using-truetool",level:2},{value:"Example",id:"example",level:3},{value:"Video Guide",id:"video-guide",level:3},{value:"Internal Domain Name generator",id:"internal-domain-name-generator",level:2}],m=function(e){e.children,e.color;var n=(0,i.useState)(""),t=n[0],a=n[1],r=(0,i.useState)(""),o=r[0],u=r[1],p=(0,i.useState)(""),s=p[0],c=p[1],d=(0,i.useState)(""),m=d[0],f=d[1];return(0,i.useEffect)((function(){var e="";(e=t.includes(o)?t:t+"-"+o,s&&(e=e+"-"+s),t&&o)?f(e+".ix-"+t+".svc.cluster.local"):f("")}),[t,o,s]),(0,l.kt)("div",null,(0,l.kt)("div",null,(0,l.kt)("span",null,"Internal DNS Generator")),(0,l.kt)("form",{onSubmit:function(e){e.preventDefault()}},(0,l.kt)("div",null,(0,l.kt)("label",null,"App Name"),(0,l.kt)("input",{required:!0,id:"name",value:t,onChange:function(e){a(e.target.value)},type:"text",placeholder:"my-plex-app"})),(0,l.kt)("div",null,(0,l.kt)("label",null,"Application"),(0,l.kt)("input",{required:!0,id:"app",value:o,onChange:function(e){u(e.target.value)},type:"text",placeholder:"plex"})),(0,l.kt)("div",null,(0,l.kt)("label",null,"Service (Optional)"),(0,l.kt)("input",{id:"service",value:s,onChange:function(e){c(e.target.value)},type:"text",placeholder:""}))),(0,l.kt)("span",null,"Internal DNS: ",m," "),m?(0,l.kt)("button",{onClick:function(){navigator.clipboard.writeText(m)}},"Copy"):"")},f={toc:d,LinkGenerator:m};function h(e){var n=e.components,t=(0,r.Z)(e,o);return(0,l.kt)("wrapper",(0,a.Z)({},f,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"linking-apps-internally"},"Linking Apps Internally"),(0,l.kt)("p",null,"We often need to connect individual apps together, for example: Sonarr and SABnzbd. This means we first need to know how to reach those Apps."),(0,l.kt)("h2",{id:"linking-apps-internally-1"},"Linking Apps Internally"),(0,l.kt)("p",null,"The backend for TrueNAS SCALE Apps is Kubernetes. Linking apps together in Kubernetes is done slightly differently than in other systems, as you can't point directly to other containers using their IP address."),(0,l.kt)("p",null,"Instead we need to use their internal(!) domain name. Please beware: this name is only available between Apps and can not be reached from the host/node or your own PC."),(0,l.kt)("p",null,"The format for internal domain name for the main service is explained bellow.\nPlease replace ",(0,l.kt)("inlineCode",{parentName:"p"},"$NAME")," with the name you gave your App when installing and ",(0,l.kt)("inlineCode",{parentName:"p"},"$APP")," with the name the app has on the catalog where is needed."),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"If your app name ",(0,l.kt)("em",{parentName:"strong"},"contains")," the name of the app as in the catalog, the format is as follows.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"$NAME.ix-$NAME.svc.cluster.local"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"If your app name ",(0,l.kt)("em",{parentName:"strong"},"does NOT contain")," the name of the app as in the catalog, the format is as follows.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"$NAME-$APP.ix-$NAME.svc.cluster.local"))),(0,l.kt)("p",null,"If you need to reach a different service (which is not often the case!), you need a slightly different format, where ",(0,l.kt)("inlineCode",{parentName:"p"},"$SVCNAME")," is the name of the service you want to reach:"),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"If your app name ",(0,l.kt)("em",{parentName:"strong"},"contains")," the name of the app as in the catalog, the format is as follows.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"$NAME-$SVCNAME.ix-$NAME.svc.cluster.local"))),(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"If your app name ",(0,l.kt)("em",{parentName:"strong"},"does NOT contain")," the name of the app as in the catalog, the format is as follows.")),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"$NAME-$APPNAME-$SVCNAME.ix-$NAME.svc.cluster.local"))),(0,l.kt)("h2",{id:"list-internal-domain-names-using-truetool"},"List Internal Domain Names using TrueTool"),(0,l.kt)("p",null,"TrueTool, a command-line utility, can list the internal DNS names of your apps using the command ",(0,l.kt)("inlineCode",{parentName:"p"},"./truetool.sh --dns")),(0,l.kt)("p",null,"Follow the installation instructions on the github repo: ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/truecharts/truetool"},"https://github.com/truecharts/truetool")),(0,l.kt)("h3",{id:"example"},"Example"),(0,l.kt)("p",null,'To reach an app named "sabnzbd" (name contains the catalog app name) within Sonarr, we can use the following internal domain name:'),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"sabnzbd.ix-sabnzbd.svc.cluster.local"))),(0,l.kt)("p",null,'To reach an app named "sab" (name does NOT contain catalog app name) within Sonarr, we can use the following internal domain name:'),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"sab-sabnzbd.ix-sab.svc.cluster.local"))),(0,l.kt)("h3",{id:"video-guide"},"Video Guide"),(0,l.kt)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/mWJL-XDgH98",title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}),(0,l.kt)("h2",{id:"internal-domain-name-generator"},"Internal Domain Name generator"),(0,l.kt)(m,{mdxType:"LinkGenerator"}))}h.isMDXComponent=!0}}]);